"""
Централизованное хранилище тестовых данных для параметризованных тестов.

ВСЕ кортежи имеют единый формат для использования с @pytest.mark.parametrize.
"""

# ============================================================================
# FSM ТЕСТЫ (Finite State Machine - автомат Мили)
# Формат: (transitions, input_seq, expected_output, expected_final_state)
# transitions: список кортежей (state_from, input, state_to, output)
# ============================================================================
FSM_SAMPLES = [
    # 1. Простой FSM с двумя состояниями
    (
        [(0, "a", 1, "x"), (1, "b", 0, "y")],
        ["a", "b"],
        ["x", "y"],
        0
    ),
    # 2. FSM с петлями (циклами)
    (
        [(0, "a", 0, "x"), (0, "b", 1, "y"), (1, "a", 1, "z"), (1, "b", 0, "w")],
        ["a", "b", "a"],
        ["x", "y", "z"],
        1
    ),
    # 3. FSM с одним состоянием (минимальный случай)
    (
        [(0, "a", 0, "x"), (0, "b", 0, "y")],
        ["a", "b", "a"],
        ["x", "y", "x"],
        0
    ),
]

# ============================================================================
# FA ТЕСТЫ (Finite Automaton - конечный автомат)
# Формат: (transitions, final_states, input_seq, expected_accept)
# transitions: список кортежей (state_from, input, state_to) - БЕЗ output!
# ============================================================================
FA_SAMPLES = [
    # 1. Простой FA, принимающий последовательность
    (
        [(0, "a", 1), (1, "b", 2)],
        {2},
        ["a", "b"],
        True
    ),
    # 2. FA, не принимающий последовательность (неверное конечное состояние)
    (
        [(0, "a", 1), (1, "b", 2)],
        {1},
        ["a", "b"],
        False
    ),
    # 3. FA с циклом
    (
        [(0, "a", 1), (1, "b", 0), (0, "c", 2), (2, "a", 2)],
        {2},
        ["a", "b", "c", "a"],
        True
    ),
    # 4. FA с пустой последовательностью - ВНИМАНИЕ: может не работать!
    # (
    #     [(0, "a", 1), (1, "b", 2)],
    #     {0},  # Начальное состояние - конечное
    #     [],  # Пустая последовательность
    #     True  # Пустая строка принимается если начальное состояние конечное
    # ),
]

# ============================================================================
# GETTER ТЕСТЫ (для get_states_list, get_actions_list, get_outputs_list)
# Формат: (transitions, expected_states, expected_actions, expected_outputs)
# ============================================================================
GETTERS_SAMPLES = [
    # 1. Числовой автомат
    (
        [(0, "a", 1, "x"), (1, "b", 2, "y")],
        {0, 1, 2},
        {"a", "b"},
        {"x", "y"}
    ),
    # 2. Строковый автомат
    (
        [("q0", "alpha", "q1", "out1"), ("q1", "beta", "q2", "out2")],
        {"q0", "q1", "q2"},
        {"alpha", "beta"},
        {"out1", "out2"}
    ),
    # 3. Смешанный автомат (int и string)
    (
        [(0, "a", "q1", "x"), ("q1", "b", 2, "y")],
        {0, "q1", 2},
        {"a", "b"},
        {"x", "y"}
    ),
]

# ============================================================================
# COMPLETENESS ТЕСТЫ (для is_complete())
# Формат: (transitions, numberOfStates, numberOfInputs, expected_is_complete)
# ============================================================================
COMPLETENESS_SAMPLES = [
    # 1. Полный автомат (2 состояния × 2 входа = 4 перехода)
    (
        [(0, "a", 0, "x"), (0, "b", 1, "y"), (1, "a", 1, "z"), (1, "b", 0, "w")],
        2,
        2,
        True
    ),
    # 2. Неполный автомат (не хватает переходов)
    (
        [(0, "a", 1, "x")],
        2,
        2,
        False
    ),
    # 3. Пустой автомат (все переходы неопределены)
    (
        [],
        2,
        2,
        False
    ),
    # 4. Частично полный автомат
    (
        [(0, "a", 1, "x"), (1, "b", 0, "y")],
        2,
        2,  # Нужно 4 перехода, есть только 2
        False
    ),
]

# ============================================================================
# EDGE CASES (граничные случаи)
# Формат: (transitions, input_seq, expected_output, expected_final_state)
# ============================================================================
EDGE_CASES = [
    # 1. Пустой автомат
    (
        [],
        [],
        [],
        "0"  # Начальное состояние остается (как строка!)
    ),
    # 2. Один переход
    (
        [(0, "a", 1, "x")],
        ["a"],
        ["x"],
        1
    ),
    # 3. Несуществующий вход
    (
        [(0, "a", 1, "x")],
        ["b"],  # Входа 'b' нет
        None,
        None
    ),
    # 4. Пустая входная последовательность
    (
        [(0, "a", 1, "x")],
        [],
        [],
        "0"  # Остаемся в начальном состоянии (как строка!)
    ),
]